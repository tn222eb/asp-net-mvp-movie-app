@model MyMovieApp.Models.MovieViewModel
@using MyMovieApp.Helpers


@{
    ViewBag.Title = "Movie List";
}

<h2>Movie List</h2>

@if (TempData["success"] != null)
{
    @Html.Partial("_FlashPartial")
}

<table class="table">
    <tr>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Title)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Year)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Runtime)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Genre)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Director)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Writer)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Actors)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Plot)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.Poster)
        </th>
        <th>
            @Html.DisplayColumnNameFor(Model.Movies, m => m.ImdbRating)
        </th>
        <th></th>
    </tr>

@if (Model != null && Model.HasMovies)
{
    foreach (var item in Model.Movies)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Title)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Year)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Runtime)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Genre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Director)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Writer)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Actors)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Plot)
            </td>
            <td>
                @Html.Image(item.Poster, "100", "100")
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ImdbRating)
            </td>
        </tr>
    }
}

</table>
